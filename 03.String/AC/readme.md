# AC自动机

## 问题描述

给出多个模式串与一个文本串，求文本串中出现的模式串的数量

## 思路

先对所有模式串建立Trie树，然后在Trie树上构建`fail`指针

## `fail`指针的含义

类比KMP的`next`

首先要明确的一点是，**Trie的每个状态代表了某个（某些）模式串的前缀**

当失配时，需要根据已经识别的字符串，寻找该字符串的某个最大后缀，这个后缀是某个（某些）模式串的前缀，也就是Trie中的另一个**状态**

所以，`fail`指针的跳转，也就是状态到状态的跳转，它能够加快失配时的匹配转移，本质思想与KMP完全相同
